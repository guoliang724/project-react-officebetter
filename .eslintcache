[{"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/index.js":"1","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/App.js":"2","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/leftnav/index.js":"3","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/main/index.js":"4","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/avatar/index.js":"5","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/config/leftnav.js":"6","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/orders/index.js":"7","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/customers/index.js":"8","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/invoices/index.js":"9","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/quotes/index.js":"10","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/users/index.js":"11","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/home/index.js":"12","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/roles/index.js":"13","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/login/index.js":"14","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/admin/index.js":"15","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/api/index.js":"16","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/api/base.js":"17","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/head/index.js":"18","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/linkbutton/index.js":"19","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/util/storage.js":"20","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/util/catch.js":"21","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/searchbar/index.js":"22"},{"size":241,"mtime":1611273182268,"results":"23","hashOfConfig":"24"},{"size":376,"mtime":1612847566977,"results":"25","hashOfConfig":"24"},{"size":1691,"mtime":1614229769050,"results":"26","hashOfConfig":"24"},{"size":956,"mtime":1614150977785,"results":"27","hashOfConfig":"24"},{"size":1607,"mtime":1613084233103,"results":"28","hashOfConfig":"24"},{"size":1150,"mtime":1611614580087,"results":"29","hashOfConfig":"24"},{"size":93,"mtime":1611615140262,"results":"30","hashOfConfig":"24"},{"size":99,"mtime":1611615143878,"results":"31","hashOfConfig":"24"},{"size":97,"mtime":1611615141917,"results":"32","hashOfConfig":"24"},{"size":93,"mtime":1611615138060,"results":"33","hashOfConfig":"24"},{"size":10327,"mtime":1614230136984,"results":"34","hashOfConfig":"24"},{"size":89,"mtime":1611615135812,"results":"35","hashOfConfig":"24"},{"size":5589,"mtime":1614229139047,"results":"36","hashOfConfig":"24"},{"size":2145,"mtime":1612912386866,"results":"37","hashOfConfig":"24"},{"size":1755,"mtime":1614229834636,"results":"38","hashOfConfig":"24"},{"size":1247,"mtime":1614151065033,"results":"39","hashOfConfig":"24"},{"size":1296,"mtime":1613080555355,"results":"40","hashOfConfig":"24"},{"size":2094,"mtime":1612914243307,"results":"41","hashOfConfig":"24"},{"size":159,"mtime":1612905739084,"results":"42","hashOfConfig":"24"},{"size":278,"mtime":1612909660349,"results":"43","hashOfConfig":"24"},{"size":32,"mtime":1612911162523,"results":"44","hashOfConfig":"24"},{"size":863,"mtime":1613236465714,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"gz3qzw",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"48"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"48"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"48"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"48"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/index.js",[],["96","97"],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/App.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/leftnav/index.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/main/index.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/avatar/index.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/config/leftnav.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/orders/index.js",[],["98","99"],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/customers/index.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/invoices/index.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/quotes/index.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/users/index.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/home/index.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/roles/index.js",["100"],"import React, { useEffect, useState, useContext } from \"react\";\nimport \"./index.css\";\nimport { Card, Table, Button, Modal, Form, Input, message, Tree } from \"antd\";\nimport { addRole, getRoles, updateRoles } from \"../../api/index\";\nimport { manuList } from \"../../config/leftnav\";\nimport moment from \"moment\";\nconst { Item } = Form;\n\nexport default function Roles(props) {\n  //handling datas of role\n  const [datas, setDatas] = useState([]);\n  //control the adding form status\n  const [addingShow, setaddingShow] = useState(false);\n  //control the modify tree component status\n  const [modifyShow, setmodifyShow] = useState(false);\n  const [form] = Form.useForm();\n  //handle the selected row\n  const [row, setRow] = useState({});\n  //handle the menu of the selected row\n  const [onSelected, setonSelected] = useState([]);\n  //the added role name\n  const columns = [\n    {\n      title: \"Role Name\",\n      dataIndex: \"rolename\",\n      key: \"rolename\",\n    },\n    {\n      title: \"Creat Time\",\n      dataIndex: \"createdAt\",\n      key: \"createdAt\",\n      render: (time) => {\n        return moment(time).format(\"YYYY-MM-DD\");\n      },\n    },\n    {\n      title: \"Authorized Time\",\n      dataIndex: \"authTime\",\n      key: \"authTime\",\n      render: (time) => {\n        return time ? moment(time).format(\"YYYY-MM-DD\") : \"\";\n      },\n    },\n    {\n      title: \"Authorizor\",\n      dataIndex: \"authAuthor\",\n      key: \"authAuthor\",\n    },\n  ];\n\n  //getting tree nodes\n  const getTreeNodes = (array) => {\n    return array.map((item, index) => {\n      return {\n        title: item.content,\n        key: item.key,\n        children: item.children ? getTreeNodes(item.children) : [],\n      };\n    });\n  };\n  //the data format of tree component\n  const treeDatas = [\n    {\n      title: \"Authority\",\n      key: \"All\",\n      children: getTreeNodes(manuList),\n    },\n  ];\n\n  //handle tree component(settings for role)\n  const handleTree = async () => {\n    const validResult = await form.validateFields();\n    if (validResult.errorFields && validResult.errorFields.length > 0) return;\n    const id = row.id;\n    const menus = onSelected;\n    const authTime = moment().format(\"YYYY-MM-DD \");\n    const authAuthor = props.role;\n    const result = await updateRoles(id, menus, authTime, authAuthor);\n    if (result.data.status === 1) {\n      message.success(\"success!\");\n      setmodifyShow(false);\n    }\n  };\n  //handle onrow callback function in table settings\n  const handleonRow = (record, index) => {\n    return {\n      onClick: () => {\n        setRow(record);\n\n        var filteredRow = datas.filter((item) => item.id === record.id);\n\n        setonSelected(filteredRow[0].menus);\n      },\n    };\n  };\n  //handle adding a new role\n  const handleAdding = async () => {\n    const validResult = await form.validateFields();\n    if (validResult.errorFields && validResult.errorFields.length > 0) return;\n    const rolename = form.getFieldValue(\"rolename\");\n    const result = await addRole(rolename);\n    if (result.data.status === 1) {\n      message.success(\"success!\");\n      setaddingShow(false);\n    } else {\n      message.warn(result.data.err);\n      setaddingShow(false);\n    }\n    setaddingShow(false);\n  };\n\n  //handle all form status being cancel\n  const handleCancle = () => {\n    setaddingShow(false);\n    setmodifyShow(false);\n  };\n\n  const handleOnselected = (checkedKeys) => {\n    setonSelected(checkedKeys);\n  };\n\n  //the title of card component\n  const title = (\n    <>\n      <Button\n        style={{ marginRight: 20 }}\n        type=\"primary\"\n        onClick={() => {\n          setaddingShow(true);\n        }}\n      >\n        Create A Role\n      </Button>\n      <Button\n        type=\"primary\"\n        onClick={() => {\n          console.log(\"click\");\n          setmodifyShow(true);\n        }}\n        disabled={!row.id}\n      >\n        Set Roles\n      </Button>\n    </>\n  );\n\n  //handle ajax request side effect\n  useEffect(() => {\n    getRoles()\n      .then((data) => {\n        setDatas(data.data.data);\n      })\n      .catch((err) => {\n        message.warn(err);\n      });\n    console.log(\"sxx\");\n  }, [datas.length]);\n\n  return (\n    <Card title={title} bordered>\n      <Table\n        rowKey=\"id\"\n        columns={columns}\n        rowSelection={{\n          type: \"radio\",\n          selectedRowKeys: [row.id],\n          onChange: (rowkeys, rows) => {\n            setRow(rows[0]);\n            var filteredRow = datas.filter((item) => item.id === rows[0].id);\n            setonSelected(filteredRow[0].menus);\n          },\n        }}\n        onRow={handleonRow}\n        dataSource={datas}\n      ></Table>\n      <Modal\n        visible={addingShow}\n        onOk={handleAdding}\n        onCancel={handleCancle}\n        title=\"Adding a role\"\n      >\n        <Form form={form}>\n          <Item\n            name=\"rolename\"\n            label=\"role_name\"\n            rules={[\n              {\n                required: true,\n                message: \"Please Input..\",\n              },\n            ]}\n          >\n            <Input />\n          </Item>\n        </Form>\n      </Modal>\n      <Modal\n        visible={modifyShow}\n        title=\"set roles\"\n        onOk={handleTree}\n        onCancel={handleCancle}\n      >\n        <Form form={form}>\n          <Item label=\"Role:\" wrapperCol={{ span: 18 }}>\n            <Input disabled value={row.rolename} />\n          </Item>\n        </Form>\n        <Tree\n          checkable\n          treeData={treeDatas}\n          checkedKeys={onSelected}\n          onCheck={handleOnselected}\n          defaultExpandAll={true}\n        ></Tree>\n      </Modal>\n    </Card>\n  );\n}\n","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/login/index.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/admin/index.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/api/index.js",["101"],"import ajax from \"./base\";\n\nconst baseURL = \"\";\n\n//get the information from weather api\nexport const reqWeather = async (city) => {\n  const url = `http://api.openweathermap.org/data/2.5/weather`;\n  const result = await ajax(url, {\n    q: city,\n    appid: \"31b67d550e93316925f5913b31894f17\",\n  });\n\n  return result;\n};\n\n//get the login information\nexport function getLogin(loginId, loginPwd) {\n  return ajax(\"/user/login\", { loginId, loginPwd }, \"post\");\n}\n\n//add user\nexport function addUser(user) {\n  return ajax(\"/user/add\", user, \"post\");\n}\n//update user\nexport function updateUser(id, loginId, loginPwd, email, role) {\n  return ajax(\"/user/update\", { id, loginId, loginPwd, email, role }, \"post\");\n}\n//delete user\nexport function deleteUser(id) {\n  return ajax(\"/user/delete\", { id }, \"post\");\n}\n\n//get the userlist information\nexport function getUsers() {\n  return ajax(\"/user/users\");\n}\n\n//adding a new role\nexport function addRole(rolename) {\n  return ajax(\"/role/add\", { rolename }, \"post\");\n}\n\n//getting the role lists\nexport function getRoles() {\n  return ajax(\"/role/roles\");\n}\n\n//updating role\nexport function updateRoles(id, menus, authTime, authAuthor) {\n  return ajax(\"/role/update\", { id, menus, authTime, authAuthor }, \"post\");\n}\n","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/api/base.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/head/index.js",["102"],"import React, { useState, useEffect } from \"react\";\nimport { reqWeather } from \"../../api/index\";\nimport LinkButton from \"../../pages/linkbutton\";\nimport { Modal } from \"antd\";\nimport { removeUser } from \"../../util/storage\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\nimport \"./index.css\";\nimport { withRouter } from \"react-router-dom\";\n\nfunction Head(props) {\n  const [date, setCurrendate] = useState();\n  const [city, setCity] = useState(\"Calgary\");\n  const [icon, setIcon] = useState(`http://openweathermap.org/img/w/10d.png`);\n  const [main, setMain] = useState();\n  const timer = setInterval(() => {\n    if (timer) clearInterval(timer);\n    const date = new Date(Date.now());\n    const dateFormat = `${date.getFullYear()}/${\n      date.getMonth() + 1\n    }/${date.getDate()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\n    setCurrendate(dateFormat);\n  }, 1000);\n  const getCancel = () => {\n    Modal.confirm({\n      icon: <ExclamationCircleOutlined />,\n      content: \"Do you want to logout?\",\n      onOk: () => {\n        removeUser();\n        props.history.push(\"/login\");\n      },\n    });\n  };\n  useEffect(() => {\n    async function getWeather() {\n      const weather = await reqWeather(city);\n      if (weather) {\n        const { icon, main } = weather.data.weather[0];\n        setIcon(icon);\n        setMain(main);\n      }\n    }\n    getWeather();\n  }, [city]);\n\n  return (\n    <>\n      <div className=\"logo\"></div>\n      <div className=\"dashboard\">\n        <div className=\"upper\">\n          <div>\n            <span>Welcome </span>\n            <span className=\"welcome\">{props.username}</span>\n\n            <LinkButton onClick={getCancel}>Exit</LinkButton>\n          </div>\n        </div>\n        <div className=\"lower\">\n          <div>\n            <span>{city}</span>\n            <span>{date}</span>\n            <span>{main}</span>\n            <span>\n              <img alt=\"\" src={`http://openweathermap.org/img/w/${icon}.png`} />\n            </span>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\nexport default withRouter(Head);\n","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/pages/linkbutton/index.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/util/storage.js",[],"/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/util/catch.js",["103"],"export default {\n  user: {},\n};\n","/Users/zhangguoliang/Desktop/college project/sodv2999_team_explorers/src/component/searchbar/index.js",[],{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","replacedBy":"107"},{"ruleId":"104","replacedBy":"108"},{"ruleId":"106","replacedBy":"109"},{"ruleId":"110","severity":1,"message":"111","line":1,"column":38,"nodeType":"112","messageId":"113","endLine":1,"endColumn":48},{"ruleId":"110","severity":1,"message":"114","line":3,"column":7,"nodeType":"112","messageId":"113","endLine":3,"endColumn":14},{"ruleId":"110","severity":1,"message":"115","line":12,"column":16,"nodeType":"112","messageId":"113","endLine":12,"endColumn":23},{"ruleId":"116","severity":1,"message":"117","line":1,"column":1,"nodeType":"118","endLine":3,"endColumn":3},"no-native-reassign",["119"],"no-negated-in-lhs",["120"],["119"],["120"],"no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'baseURL' is assigned a value but never used.","'setCity' is assigned a value but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation"]